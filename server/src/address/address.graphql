interface Address {
  id: ID!
  street: String!
  city: String!
  zip: String!
}

type HomeAddress implements Address {
  id: ID!
  street: String!
  city: String!
  zip: String!
  landmark: String
}

type OfficeAddress implements Address {
  id: ID!
  street: String!
  city: String!
  zip: String!
  company: String
}

union AddressResult = HomeAddress | OfficeAddress

# This way the User type (from user.subgraph) is extended with a new field - addresses
# which is resolved in address.subgraph
extend type User @key(fields: "id") {
  id: ID! @external
  addresses: [Address!]!
}

type Query {
  addresses: [Address!]!
  searchAddresses: [AddressResult!]!
}
